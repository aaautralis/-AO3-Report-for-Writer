# AO3 写手年度总结
by aaaustralis

## 目录
[TOC]

## 这是什么？
 这是一个本地运行的小工具（内存并不小，抱歉！），用来给 AO3 作者生成一份“年终写作回顾”，个人使用版本。  

它会打开浏览器抓取用户账号下的作品数据，然后在本地生成一份统计和总结。

本项目为个人娱乐用途，使用前请阅读本说明。

## 亮点
  1.   统计了**匿名/隐藏作品**，并且支持分开统计/一起计入全部作品！
  2.   **Kudos/Comment英雄榜**，谁是支持榜top1？
  3.   观察了**cp配对&additional tags**，你的写作偏好是……？
  4.   **HIGHLIGHT**: 谢谢所有写手！一年辛苦了！爱你们么么哒！

## 内容
### 代码区：两项功能代码
  1.   **fetch**：需要playwright环境，初次会下载Chromium，分析以后会生成.json。
  2.   **analysis**：仅依靠.json做分析，并没有完全用上获得的数据，可以继续增加内容。

### release区：exe等
  1.   **单独的AO3_2025年终总结器.exe**  
  新版做了年份筛选和翻页，旧版没有做可能会更稳定
  2.   **压缩包**  
  内含exe以及需要下载的浏览器。  
建议下载zip，解压到新文件夹使用。

## 操作：
  ### 1. 下载
  程序需要指定浏览器来实现抓取数据，所以需要下载exe及Chromium浏览器（`pw-browser`文件夹），并且确保它们在**同一个文件夹**（最好是空的，方便后续管理生成文件）。

  ### 2. 点击exe运行  
  初次会弹出浏览器要求用户登录ao3，然后会自动抓取浏览器窗口内容。请**不要关闭**它，可以小窗，抓取完毕会自动关闭。

  ### 3.年终报告与互动
  抓取完毕后，会生成年终报告，在命令行窗口。  
  请使用`Y（yes）/N（no）`和`enter`来互动（`enter`默认`yes`）。

  ### 4. 保存
  最后会询问是否保存为txt。  
  **新的总结txt可能会顶掉旧的**，所以如果重复使用，建议把前一个txt先改名/移出文件夹。  

  ### 5. 如果不再使用
  如果不再使用，为了节省内存，请放心删除文件夹，**按需保留txt**。  
  本工具产生的所有内容都在本文件夹。

  ### 6. 更换账号
  浏览器会记住你的登录状态。如果想要换号测试，请删除文件夹中的`chrome_user_data`（浏览器缓存）。  
*不建议反复在浏览器登录同一个账号，容易被cloudflare判断人机。（这个时候可以等一段时间，起码半小时后再尝试。）*

### 重要！ 运行前请确认文件结构如下：
——本文件夹  
├── AO3_2025年终总结器.exe  
├── pw-browsers/          <-- 确保这个文件夹就在 exe 旁边  
│     
└── (运行后会自动产生`my_ao3_db.json`和 `chrome_user_data`文件夹)  

## 实现：
  1. 本工具使用 `Playwright` 打开本地 `Chromium` 浏览器，通过真实网页操作抓取数据。
  2. 数据仅会保存在`my_ao3_db_2025.json`，由于可能涉及个人数据，使用程序以后请按需删除。
  3. 选择计入全部统计时，匿名和隐藏作品的数据可能不稳定，滑跪！
  4. 使用命令行互动，页面有点丑，对不起。
  5. 代码的具体实现大量使用了GPT和Gemini。G老师们领衔主演！

## 注意事项
  1.   因为涉及在浏览器上登录个人ao3，需要能够**访问和登录ao3原网站**才能正常使用本工具。
  2.   登录过程由使用者自己在浏览器里完成，程序**不会上传任何数据**，所有内容只保存在**本地**。
  3.   生成的数据文件可以随时删除。
  4.   可以用代码和抓到的个人数据，开发更多的年终分析（可以查看`fetch`代码或`.json`以确定）！
  5.   暂未涉及抓`series/collection`数据和分析，评论树有抓取，但是没有做分析，滑跪……
  6.   由于本地测试数量较小（一个低产的同人女。）高产出老师使用可能会出现错误，继续滑跪……
  7.   本项目未经过大规模测试，**不保证在所有账号规模下稳定运行**。
  8.   不会稳定维护，如遇错误可以使用源码询问LLM等工具。
  9.   文件很大（300mb)，主要是浏览器有点大。注意内存。

## 声明
本工具仅用于作者分析自己的作品数据，娱乐使用，不能实现也不支持爬虫等功能，仅供个人使用。  
请不要频繁运行，多次操作可能导致网站认为账号异常（反复登录账号容易触发风控，会要求验证是否为人机，抓取过程暂未发现影响），任何风险自行承担。  

12.18补充：被retry later了……血泪的教训！
